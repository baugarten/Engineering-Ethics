.container
  .row
    .span12
      h1 Knowledge Base

  .row
    .span12
      ul.thumbnails
        li.span3.well(ng-repeat="(category, items) in knowledgebase")
          h3 {{ category}}
          ul.unstyled
            li(ng-repeat="item in items")
              span.item-name {{ item.name}}: 
              {{ item.definition }}
          .none(ng-show="category.items.length == 0")
            No definitions yet... 
          a(ng-hide="shownewitem == category", ng-click="addItem(category)", href="javascript:") add one?
          a(ng-hide="!shownewitem || shownewitem != category", ng-click="hideItem()", href="javascript:") nevermind
          form.form-horizontal(ng-hide="!shownewitem || shownewitem != category", ng-submit="submitNewItem()")
            .control-group
              input(type="text", ng-model="newitem.name", placeholder="Item Name")
            .control-group
              textarea(ng-model="newitem.definition", placeholder="Definition")
            .control-group
              input.btn.btn-primary.btn-large(type="submit")
    
  .row
    .span12
      a(ng-click="toggleCategory(true)", ng-hide="shownewcategory", href="javascript:") Add Category
      a(ng-hide="!shownewcategory", ng-click="toggleCategory(false)", href="javascript:") Nevermind
      form.form-horizontal(ng-hide="!shownewcategory", ng-submit="submit()")
        .control-group
          input(type="text", ng-model="newcategory.name", placeholder="Category Name")
        .control-group
          input.btn.btn-primary.btn-large(type="submit")
          

